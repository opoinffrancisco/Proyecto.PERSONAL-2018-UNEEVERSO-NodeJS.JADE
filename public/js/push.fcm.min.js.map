{"version":3,"sources":["push.fcm.js"],"names":["ERR_NO_LOCAL_STORAGE","ERR_NO_FIREBASE","ERR_NO_PUSH","ERR_SW_FAILED","ERR_SW_NOT_SUPPORTED","SENT_TO_SERVER_KEY","INITIALIZED_KEY","getRoot","self","global","factory","root","define","amd","firebase","module","exports","require","Push","console","error","extend","configuration","FCM","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","serviceWorkerLocation","onTokenFetched","token","onTokenFetchedError","onPermissionRequired","onPermissionGranted","onPermissionDenied","onMessage","payload","sendTokenToServer","onTokenDeleted","onTokenDeletedError","FCMPlugin","config","this","initialized","_messaging","isInitialized","apps","length","setTokenSentToServer","sent","hasOwnProperty","localStorage","setItem","isTokenSentToServer","getItem","fetchToken","getToken","then","requestPermission","catch","deleteToken","Promise","fulfill","reject","currentToken","initialize","functions","localConfig","initConfig","swLocation","initializeApp","info","messaging","navigator","serviceWorker","register","scope","ready","registration","messageChannel","MessageChannel","port1","onmessage","useServiceWorker","onTokenRefresh","debug","active","postMessage","port2","Error","failed","k","plugin"],"mappings":"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","file":"bin/push.fcm.min.js.map"}